"use strict";(self["webpackChunkdemo001"]=self["webpackChunkdemo001"]||[]).push([[855],{44855:function(t,e,i){i.r(e),i.d(e,{default:function(){return g}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page"},[e("div",{staticClass:"page-top"},[e("a-select",{attrs:{getPopupContainer:t=>t.parentNode,placeholder:"请设定一项业务"},on:{change:t.busiChange},model:{value:t.busiId,callback:function(e){t.busiId=e},expression:"busiId"}},t._l(t.businessList,(function(i){return e("a-select-option",{key:i.busiId,attrs:{value:i.busiId,title:i.busi}},[t._v(" "+t._s(i.busi)+" ")])})),1),e("div",[t._v("场景说明：假定您是客户。 1.  请设定业务场景    2.  在接到电话营销后，请输入文字并将对话进行下去；    3.  在每次机器人答复后，可以给机器人话术打分    4.  请您判定最终是否成单。")])],1),e("div",{staticClass:"page-content"},[e("Talk",{ref:"talk",attrs:{busiId:t.busiId,uuid:t.uuid},on:{dicNode:t.dicNode,chart:t.getScriptAcceptRatio}}),e("div",{staticClass:"page-right"},[e("process",{attrs:{list:t.flowNodeList,dicNodeActiveList:t.dicNodeActiveList}}),e("chart",{attrs:{pieData:t.pieData,summaryStr:"点赞率"}})],1)],1)])},s=[],d=(i(44114),i(37093)),u=i(73339),o=i(93801),c=i(31552),n=i(99686),r=i(17670),l=i(15869),p={name:"CustomerTest",components:{Talk:d.A,Process:u.A,Chart:o.A},data(){return{busiId:void 0,businessList:[],flowNodeList:[],dicNodeActiveList:[],uuid:"",pieData:[{name:"点赞",value:0},{name:"无操作",value:0},{name:"点踩",value:0}]}},mounted(){this.getBusi()},methods:{getBusi(){(0,c.O5)().then((t=>{this.businessList=t.data}),(t=>{(0,r.b4)(t,"获取业务列表失败")}))},busiChange(t){(0,n.o2)({busId:t}).then((t=>{this.flowNodeList=t.data||[]}),(t=>{(0,r.b4)(t,"获取业务节点失败")})),this.refreshDialog()},refreshDialog(){this.busiId&&(this.uuid=(0,l.l)(),this.dicNodeActiveList=[])},dicNode(t,e){-1===this.dicNodeActiveList.findIndex((e=>e.dicScriptNode===t))&&this.dicNodeActiveList.push({dicScriptNode:t,reseaon:e})},getScriptAcceptRatio(){(0,n.fQ)({dialogId:this.uuid}).then((t=>{this.pieData[0].value=t.data?.acceptRate?100*t.data?.acceptRate:0,this.pieData[1].value=t.data?.noOperation?100*t.data?.noOperation:0,this.pieData[2].value=t.data?.againstRate?100*t.data?.againstRate:0})).then((()=>{}),(t=>{(0,r.b4)(t,"获取饼图数据失败")}))}}},h=p,v=i(81656),b=(0,v.A)(h,a,s,!1,null,"587d64c6",null),g=b.exports}}]);